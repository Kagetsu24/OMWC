(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{44:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm"},[s("div",{staticClass:"header"},[s("div",{staticStyle:{"background-image":"url('/img/logo.png')",width:"60px",height:"60px"}}),t._v(" "),s("h3",{staticClass:"ml-2 mb-0"},[t._v("\n                    "+t._s(t.title)+"\n                ")])])])]),t._v(" "),t.subtitle?s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("\n                    "+t._s(t.subtitle)+"\n                    "),t._t("default")],2)])])]):t._e()])};i._withStripped=!0;var a=s(0),n=s.n(a),o=s(1),r=function(t,e,s,i){var a,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,s,o):a(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};let c=class extends n.a{};c=r([Object(o.b)({props:{title:{type:String,required:!0},subtitle:{type:String,required:!1}}})],c);var l=c,d=s(3),u=Object(d.a)(l,i,[],!1,null,null,null);u.options.__file="src/components/PageHeader.vue";e.a=u.exports},46:function(t,e,s){"use strict";var i=function(){var t=this.$createElement;this._self._c;return this._m(0)};i._withStripped=!0;var a=s(0),n=s.n(a),o=s(1),r=function(t,e,s,i){var a,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,s,o):a(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};let c=class extends n.a{mounted(){document.querySelector("#fakeModalButton").click()}};c=r([o.b],c);var l=c,d=s(3),u=Object(d.a)(l,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"modal fade",attrs:{id:"loginModal",tabindex:"-1"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header justify-content-center"},[e("h5",{staticClass:"modal-title"},[this._v("\n                        Log in to continue\n                    ")])]),this._v(" "),e("div",{staticClass:"modal-body"},[this._v("\n                    Remember that captain applications and voting require you to have at least 1 ranked map or guest difficulty\n\n                    "),e("hr"),this._v(" "),e("form",{staticClass:"form-inline my-2 my-lg-0 ml-3",attrs:{action:"/login",method:"get"}},[e("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[this._v("\n                            Verify your osu! account\n                        ")])])])])])]),this._v(" "),e("button",{staticClass:"d-none",attrs:{id:"fakeModalButton","data-toggle":"modal","data-target":"#loginModal"}})])}],!1,null,null,null);u.options.__file="src/components/LoginModal.vue";e.a=u.exports},59:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container text-center"},[t.user&&t.user.isCaptain?[s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("\n                            List of people who applied to be mapper for "+t._s(t.user.country.name)+"\n                        ")]),t._v(" "),s("p",{staticClass:"card-subtitle"},[t._v("\n                            You must choose between 2 to 6 mappers\n                        ")])])])])]),t._v(" "),s("div",{staticClass:"row"},t._l(t.applications,(function(e){return s("div",{key:e.id,staticClass:"col-sm-6 mb-2"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"custom-control custom-checkbox d-flex justify-content-center align-items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.chosenAppsIds,expression:"chosenAppsIds"}],staticClass:"custom-control-input",attrs:{id:e.id,type:"checkbox"},domProps:{value:e.id,checked:e.user.isContestant,checked:Array.isArray(t.chosenAppsIds)?t._i(t.chosenAppsIds,e.id)>-1:t.chosenAppsIds},on:{change:function(s){var i=t.chosenAppsIds,a=s.target,n=!!a.checked;if(Array.isArray(i)){var o=e.id,r=t._i(i,o);a.checked?r<0&&(t.chosenAppsIds=i.concat([o])):r>-1&&(t.chosenAppsIds=i.slice(0,r).concat(i.slice(r+1)))}else t.chosenAppsIds=n}}}),t._v(" "),s("label",{staticClass:"custom-control-label d-flex align-items-center",attrs:{for:e.id}},[s("div",{staticClass:"avatar",style:"background-image: url(https://a.ppy.sh/"+e.user.osuId+")"}),t._v(" "),s("div",{staticClass:"ml-2"},[s("a",{attrs:{href:"https://osu.ppy.sh/users/"+e.user.osuId,target:"_blank"}},[t._v("\n                                        "+t._s(e.user.username)+"\n                                    ")])])])])])])])})),0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.save(e)}}},[t._v("\n                    Save\n                ")])])])]:t.user?t._e():s("login-modal")],2)};i._withStripped=!0;var a=s(0),n=s.n(a),o=s(1),r=s(4),c=s(46),l=function(t,e,s,i){var a,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,s,o):a(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t,e,s,i){return new(s||(s=Promise))((function(a,n){function o(t){try{c(i.next(t))}catch(t){n(t)}}function r(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,r)}c((i=i.apply(t,e||[])).next())}))};let p=class extends n.a{constructor(){super(...arguments),this.applications=[],this.chosenAppsIds=[]}created(){return u(this,void 0,void 0,(function*(){this.user&&(this.user.isCaptain?yield this.initialRequest("/api/applications/mappersChoice",t=>{this.applications=t.applications||[];const e=this.applications.filter(t=>t.user.isContestant);this.chosenAppsIds=e.map(t=>t.id)}):this.$router.push("/"))}))}save(t){return u(this,void 0,void 0,(function*(){yield this.postRequest("/api/applications/mappersChoice/save",{chosenAppsIds:this.chosenAppsIds},t)}))}};l([r.b,d("design:type",Object)],p.prototype,"user",void 0),p=l([Object(o.b)({components:{LoginModal:c.a}})],p);var v=p,h=s(3),f=Object(h.a)(v,i,[],!1,null,null,null);f.options.__file="src/views/applications/MapperChoice.vue";e.default=f.exports},60:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("div",{staticClass:"container text-center"},[s("page-header",{attrs:{title:".osz Submissions"}}),t._v(" "),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[t.submissions?s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),s("tbody",t._l(t.submissions,(function(e){return s("tr",{key:e.id},[s("td",[t._v(" "+t._s(e.match.round.title))]),t._v(" "),s("td",[t._v("\n                                    "+t._s(t._f("shortDateTimeString")(e.updatedAt))+"\n                                ")]),t._v(" "),s("td",[e.originalPath?s("a",{attrs:{href:"/api/submissions/"+e.id+"/download"}},[t._v("\n                                        download\n                                    ")]):t._e()])])})),0)]):t._e()])])])]),t._v(" "),t.currentRound?[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h5",[t._v("\n                            "+t._s(t.currentRound.title)+"\n                        ")])]),t._v(" "),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-title"},[t._v("\n                            "+t._s(t.currentMatch.information)+"\n                        ")]),t._v(" "),s("p",{staticClass:"card-subtitle"},[t._v("\n                            You have from "),s("b",[t._v(t._s(t.currentRound.submissionsStartedAt))]),t._v(" to\n                            "),s("b",[t._v(t._s(t.currentRound.submissionsEndedAt))]),t._v(" to submit your entry\n                        ")]),t._v(" "),s("hr"),t._v(" "),s("label",[t._v("\n                            .osz File (20Mb max)\n                        ")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{id:"oszFile",type:"file"},on:{change:function(e){t.oszFile=e.target.files[0]}}})])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.save(e)}}},[t.isSaving?s("div",{staticClass:"spinner-border spinner-border-sm align-middle",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]):s("span",[t._v("Save")])])])])]:t._e()],2):t._e()};i._withStripped=!0;var a=s(0),n=s.n(a),o=s(5),r=s.n(o),c=s(1),l=s(4),d=s(44),u=function(t,e,s,i){var a,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(o=(n<3?a(o):n>3?a(e,s,o):a(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o},p=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(t,e,s,i){return new(s||(s=Promise))((function(a,n){function o(t){try{c(i.next(t))}catch(t){n(t)}}function r(t){try{c(i.throw(t))}catch(t){n(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,r)}c((i=i.apply(t,e||[])).next())}))};let h=class extends n.a{constructor(){super(...arguments),this.submissions=[],this.currentRound=null,this.currentMatch=null,this.oszFile=null,this.isSaving=!1}created(){return v(this,void 0,void 0,(function*(){yield this.getData()}))}getData(){return v(this,void 0,void 0,(function*(){yield this.initialRequest("/api/submissions",t=>{this.submissions=t.submissions,this.currentRound=t.currentRound,this.currentMatch=t.currentMatch})}))}save(t){return v(this,void 0,void 0,(function*(){if(!this.oszFile)return void alert("Select an .osz");(null==t?void 0:t.target).disabled=!0,this.isSaving=!0;const e=new FormData;e.append("oszFile",this.oszFile);try{const t=yield r.a.post("/api/submissions/save",e,{headers:{"Content-Type":"multipart/form-data"}});t.data.success?(yield this.getData(),alert("Saved!")):alert(t.data.error||"Something went wrong!")}catch(t){console.log(t),alert("Something went wrong")}this.isSaving=!1,(null==t?void 0:t.target).disabled=!1}))}};u([l.b,p("design:type",Object)],h.prototype,"user",void 0),h=u([Object(c.b)({components:{PageHeader:d.a}})],h);var f=h,m=s(3),b=Object(m.a)(f,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Round")]),this._v(" "),e("th",[this._v("Submission Date")]),this._v(" "),e("th")])])}],!1,null,null,null);b.options.__file="src/views/Submission.vue";e.default=b.exports}}]);